<!-- templates/password_created.html -->
{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Password Link Created</h1>
    <p class="password-info">Your shared password: <strong>{{ password }}</strong></p>
    <p class="note">Share this link to access the password. Note: The link can only be used once.</p>
    <div class="link-container">
        <a href="{{ link }}" target="_blank" class="password-link" id="passwordLink">{{ link }}</a>
        <button onclick="copyLink()" class="copy-btn">Copy</button>
    </div>
    <a href="{% url 'home' %}" class="btn btn-primary">Back to Home</a> <!-- Add this line for Back to Home button -->
</div>
<script>
function copyLink() {
    var link = document.getElementById("passwordLink").href; // Get the link URL
    var tempInput = document.createElement("input"); // Create a temporary input field
    tempInput.value = link; // Set its value to the link
    document.body.appendChild(tempInput); // Append it to the body
    tempInput.select(); // Select the content
    document.execCommand("copy"); // Copy the content
    document.body.removeChild(tempInput); // Remove the temporary input field
    alert("Link copied to clipboard!"); // Optional: alert the user
}
</script>
{% endblock %}
